============================================================
==> commandes exécutées
+ REPAS=100
+ debut_restaurant 100 2 2
+ : -> debut_restaurant
+ [ 3 -lt 2 ]
+ local duree_repas=100
+ shift
+ local tables=2 2
+ islinux
+ uname
+ [ xLinux = xLinux ]
+ ls /dev/shm
+ echo État initial des shm
État initial des shm
+ cat /tmp/test-120-13740.m1
+ PID_R=13747
+ msleep 40
+ [ 1 != 1 ]
+ local ms=40
+ ./restaurant 100 2 2
+ mstos 40
+ [ 1 != 1 ]
+ local ms=40
+ + bc
echo scale=5;40/1000
+ sleep .04000
+ ps_existe 13747 Le restaurateur n'est plus là
+ [ 2 != 2 ]
+ local pid=13747 msg=Le restaurateur n'est plus là
+ kill -0 13747
+ islinux
+ uname
+ [ xLinux = xLinux ]
+ ls /dev/shm
+ echo État des shm après création
État des shm après création
+ cat /tmp/test-120-13740.m2
cahier
resto
+ cmp -s /tmp/test-120-13740.m1 /tmp/test-120-13740.m2
+ : <- debut_restaurant
+ duree_convive A 1 60 140
+ [ 4 != 4 ]
+ local convive=A arg2=1 min_ms=60 max_ms=140
+ subsh A
+ [ 1 != 1 ]
+ local nom=A
+ SUBSH=true
+ exec
